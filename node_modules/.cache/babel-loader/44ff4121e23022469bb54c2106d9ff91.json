{"ast":null,"code":"import _slicedToArray from\"/Users/ce/Desktop/portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import classes from'./Form.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Formulario=function Formulario(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formSent=_useState2[0],setFormSent=_useState2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",message:\"\"},validate:function validate(values){var errores={};//validacion message \nif(!values.message){errores.message='Merci de saisir un message';}//validacion email \nif(!values.email){errores.email='Merci de saisir un e-mail';}else if(!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(values.email)){errores.email='E-mail non valide';}return errores;},onSubmit:function onSubmit(values,_ref){var resetForm=_ref.resetForm;console.log(values);fetch('http://localhost:4000/messages/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)}).then(function(response){return response.json();}).then(function(data){if(data===\"message added\"){resetForm();setFormSent(true);setTimeout(function(){return setFormSent(false);},5000);}});},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/_jsxs(Form,{className:classes.formulario,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-mail\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"email\",name:\"email\",placeholder:\"mail@mail.com\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:function component(){return/*#__PURE__*/_jsx(\"div\",{className:classes.error,children:errors.email});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(Field,{as:\"textarea\",id:\"message\",name:\"message\",placeholder:\"Laisser votre message\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"message\",component:function component(){return/*#__PURE__*/_jsx(\"div\",{className:classes.error,children:errors.message});}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Envoyer\"}),formSent&&/*#__PURE__*/_jsx(\"p\",{className:classes.exito,children:\"Message Envoy\\xE9\"})]});}})});};export default Formulario;","map":{"version":3,"names":["React","useState","Formik","Form","Field","ErrorMessage","classes","Formulario","formSent","setFormSent","email","message","values","errores","test","resetForm","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","data","setTimeout","errors","formulario","error","exito"],"sources":["/Users/ce/Desktop/portfolio/client/src/components/Form.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport classes from './Form.module.css';\n\nconst Formulario = () => {\n\t\n\tconst [formSent, setFormSent]=useState(false)\n\t\n\n\treturn (\n\t\t<>\n            \n\t\t\t<Formik \n\t\t\t\tinitialValues={{\n\t\t\t\t\temail:\"\",\n\t\t\t\t\tmessage:\"\"\n\t\t\t\t\t\n\t\t\t\t}}\n\t\t\t\tvalidate={(values)=>{\n\t\t\t\t\tlet errores={};\n\t\t\t\t\t//validacion message \n\t\t\t\t\tif(!values.message){\n\t\t\t\t\t\terrores.message = 'Merci de saisir un message';\n\t\t\t\t\t}\n\t\t\t\t\t//validacion email \n\n\t\t\t\t\tif(!values.email){\n\t\t\t\t\t\terrores.email = 'Merci de saisir un e-mail';\n\t\t\t\t\t}else if(!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(values.email)){\n\t\t\t\t\t\terrores.email = 'E-mail non valide';\n\t\t\t\t\t}\n\t\t\t\t\treturn errores;\n\t\t\t\t}}\n\t\t\t\tonSubmit={(values, {resetForm})=>{\n\t\t\t\t\tconsole.log(values);\n\t\t\t\t\tfetch('http://localhost:4000/messages/add',{\n\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\theaders: {'Content-Type':'application/json'},\n\t\t\t\t\t\tbody:JSON.stringify(values)\n\t\t\t\t\t})\n\t\t\t\t\t.then((response)=>response.json())\n\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\tif(data===\"message added\"){\n\t\t\t\t\t\tresetForm();\n\t\t\t\t\t\tsetFormSent(true);\n\t\t\t\t\t\tsetTimeout(()=>setFormSent(false),5000);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{/* {({values, handleSubmit, handleChange, handleBlur, errors, touched})=>( */}\n\t\t\t\t{({errors})=>(\n\t\t\t\t\t\t<Form className={classes.formulario}> \n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label htmlFor='email'>E-mail</label>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tid=\"email\" \n\t\t\t\t\t\t\tname =\"email\" \n\t\t\t\t\t\t\tplaceholder='mail@mail.com' \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ErrorMessage name=\"email\" component={()=>(<div className={classes.error}>{errors.email}</div>)}/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label htmlFor='message'>Message</label>\n\t\t\t\t\t\t\t<Field as =\"textarea\"\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tid=\"message\" \n\t\t\t\t\t\t\tname =\"message\" \n\t\t\t\t\t\t\tplaceholder='Laisser votre message' \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ErrorMessage name=\"message\" component={()=>(<div className={classes.error}>{errors.message}</div>)}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button type=\"submit\">Envoyer</button>\n\t\t\t\t\t\t{formSent && <p className={classes.exito}>Message Envoy√©</p>}\n\t\t\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t\n\t\t\t</Formik>\n\t\t</>\n\t);\n}\n \nexport default Formulario;"],"mappings":"wHAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,YAA9B,KAAkD,QAAlD,CACA,MAAOC,QAAP,KAAoB,mBAApB,C,6IAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAExB,cAA8BN,QAAQ,CAAC,KAAD,CAAtC,wCAAOO,QAAP,eAAiBC,WAAjB,eAGA,mBACC,sCAEC,KAAC,MAAD,EACC,aAAa,CAAE,CACdC,KAAK,CAAC,EADQ,CAEdC,OAAO,CAAC,EAFM,CADhB,CAMC,QAAQ,CAAE,kBAACC,MAAD,CAAU,CACnB,GAAIC,QAAO,CAAC,EAAZ,CACA;AACA,GAAG,CAACD,MAAM,CAACD,OAAX,CAAmB,CAClBE,OAAO,CAACF,OAAR,CAAkB,4BAAlB,CACA,CACD;AAEA,GAAG,CAACC,MAAM,CAACF,KAAX,CAAiB,CAChBG,OAAO,CAACH,KAAR,CAAgB,2BAAhB,CACA,CAFD,IAEM,IAAG,CAAC,mDAAmDI,IAAnD,CAAwDF,MAAM,CAACF,KAA/D,CAAJ,CAA0E,CAC/EG,OAAO,CAACH,KAAR,CAAgB,mBAAhB,CACA,CACD,MAAOG,QAAP,CACA,CApBF,CAqBC,QAAQ,CAAE,kBAACD,MAAD,MAAuB,IAAbG,UAAa,MAAbA,SAAa,CAChCC,OAAO,CAACC,GAAR,CAAYL,MAAZ,EACAM,KAAK,CAAC,oCAAD,CAAsC,CAC1CC,MAAM,CAAC,MADmC,CAE1CC,OAAO,CAAE,CAAC,eAAe,kBAAhB,CAFiC,CAG1CC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeX,MAAf,CAHqC,CAAtC,CAAL,CAKCY,IALD,CAKM,SAACC,QAAD,QAAYA,SAAQ,CAACC,IAAT,EAAZ,EALN,EAMCF,IAND,CAMM,SAACG,IAAD,CAAQ,CACb,GAAGA,IAAI,GAAG,eAAV,CAA0B,CAC1BZ,SAAS,GACTN,WAAW,CAAC,IAAD,CAAX,CACAmB,UAAU,CAAC,iBAAInB,YAAW,CAAC,KAAD,CAAf,EAAD,CAAwB,IAAxB,CAAV,CACC,CACD,CAZD,EAcA,CArCF,UAwCE,4BAAEoB,OAAF,OAAEA,MAAF,oBACC,MAAC,IAAD,EAAM,SAAS,CAAEvB,OAAO,CAACwB,UAAzB,wBACA,oCACC,cAAO,OAAO,CAAC,OAAf,oBADD,cAEC,KAAC,KAAD,EACA,IAAI,CAAC,MADL,CAEA,EAAE,CAAC,OAFH,CAGA,IAAI,CAAE,OAHN,CAIA,WAAW,CAAC,eAJZ,EAFD,cAQC,KAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAE,wCAAK,YAAK,SAAS,CAAExB,OAAO,CAACyB,KAAxB,UAAgCF,MAAM,CAACnB,KAAvC,EAAL,EAAtC,EARD,GADA,cAYA,oCACC,cAAO,OAAO,CAAC,SAAf,qBADD,cAEC,KAAC,KAAD,EAAO,EAAE,CAAE,UAAX,CAEA,EAAE,CAAC,SAFH,CAGA,IAAI,CAAE,SAHN,CAIA,WAAW,CAAC,uBAJZ,EAFD,cAQC,KAAC,YAAD,EAAc,IAAI,CAAC,SAAnB,CAA6B,SAAS,CAAE,wCAAK,YAAK,SAAS,CAAEJ,OAAO,CAACyB,KAAxB,UAAgCF,MAAM,CAAClB,OAAvC,EAAL,EAAxC,EARD,GAZA,cAwBA,eAAQ,IAAI,CAAC,QAAb,qBAxBA,CAyBCH,QAAQ,eAAI,UAAG,SAAS,CAAEF,OAAO,CAAC0B,KAAtB,+BAzBb,GADD,EAxCF,EAFD,EADD,CA6EA,CAlFD,CAoFA,cAAezB,WAAf"},"metadata":{},"sourceType":"module"}